#!/bin/sh
# Pre-commit hook - runs all quality checks and updates metadata

echo "ğŸ” Running pre-commit quality checks..."
echo ""

# Run all quality checks
make quality

# Check exit code
if [ $? -ne 0 ]; then
    echo ""
    echo "âŒ Commit rejected: Quality checks failed"
    echo "Fix the errors above and try again"
    exit 1
fi

# Metadata generation is handled by validate_schemas.py during quality checks
# No need to call it separately here

echo ""
echo "âœ… All quality checks passed - commit allowed"
exit 0

